(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-868dc220"],{6059:function(t,e,a){"use strict";a("c78f")},"9de7":function(t,e,a){"use strict";a.r(e);var s=a("7a23");const n=Object(s["G"])("data-v-ffecc628");Object(s["t"])("data-v-ffecc628");const c={key:0,class:"container"},r={class:"bg-white rounded shadow mt-3"},o={class:"flex justify-center pt-1 border-bottom mb-1 relative"},i={class:"font-bold"},l={key:0,class:"dropdown"},d=Object(s["g"])("h6",null," ... ",-1),b={class:"dropdown-content"},u={class:"flex border-bottom"},j={class:"flex flex-column justify-center items-center border-right mr-1 p-2"},g={class:"flex justify-between text-xl pb-1"},O={class:"p-1"},p={class:"mt-1 p-2"},w={class:"flex justify-around p-1"},f={class:"font-bold"},y={class:"font-bold"},m={class:"flex justify-center my-3"},x={class:"bg-white rounded shadow p-3 custom"},v=Object(s["g"])("button",{type:"submit",class:"text-yellow-500 hover:bg-yellow-500 hover:text-white py-1 px-2 rounded border-yellow-500 border-2"}," Submit ",-1);Object(s["r"])();const q=n((t,e,a,q,h,A)=>{const k=Object(s["x"])("router-link"),R=Object(s["x"])("answer");return q.state.loaded?(Object(s["q"])(),Object(s["d"])("div",c,[Object(s["g"])("div",r,[Object(s["g"])("div",o,[Object(s["g"])("p",i,Object(s["z"])(q.state.question.posted),1),q.state.user.name==q.state.question.creator.name?(Object(s["q"])(),Object(s["d"])("div",l,[d,Object(s["g"])("div",b,[Object(s["g"])("p",{onClick:e[1]||(e[1]=t=>q.deleteQuestion())}," delete ")])])):Object(s["e"])("",!0)]),Object(s["g"])("div",u,[Object(s["g"])("div",j,[null==q.state.tempRating?(Object(s["q"])(),Object(s["d"])("i",{key:0,class:["fas fa-sort-up text-3xl",{"text-yellow-500":!q.state.rating||1==q.state.rating.rating,"text-gray-400":q.state.rating&&0==q.state.rating.rating}],onClick:e[2]||(e[2]=t=>q.upvote())},null,2)):Object(s["e"])("",!0),null!=q.state.tempRating?(Object(s["q"])(),Object(s["d"])("i",{key:1,class:["fas fa-sort-up text-3xl",{"text-yellow-500":q.state.tempRating,"text-gray-400":0==q.state.tempRating}]},null,2)):Object(s["e"])("",!0),Object(s["g"])("p",{class:["font-bold",{"text-yellow-500":q.state.question.rating>0,"text-red-500":q.state.question.rating<0}]},Object(s["z"])(q.state.question.rating),3),null==q.state.tempRating?(Object(s["q"])(),Object(s["d"])("i",{key:2,class:["fas fa-sort-down text-3xl",{"text-red-500":!q.state.rating||0==q.state.rating.rating,"text-gray-400":q.state.rating&&1==q.state.rating.rating}],onClick:e[3]||(e[3]=t=>q.downvote())},null,2)):Object(s["e"])("",!0),null!=q.state.tempRating?(Object(s["q"])(),Object(s["d"])("i",{key:3,class:["fas fa-sort-down text-3xl",{"text-red-500":0==q.state.tempRating,"text-gray-400":q.state.tempRating}]},null,2)):Object(s["e"])("",!0)]),Object(s["g"])("div",null,[Object(s["g"])("div",g,[Object(s["g"])("h1",O,Object(s["z"])(q.state.question.title),1)]),Object(s["g"])("p",p,Object(s["z"])(q.state.question.body),1)])]),Object(s["g"])("div",w,[Object(s["g"])("p",f,Object(s["z"])(q.state.answers.length)+" Answers ",1),Object(s["g"])(k,{to:{name:"ProfilePage",params:{id:q.state.question.creator.id}}},{default:n(()=>[Object(s["g"])("p",y,Object(s["z"])(q.state.question.creator.name),1)]),_:1},8,["to"])])]),(Object(s["q"])(!0),Object(s["d"])(s["a"],null,Object(s["w"])(q.state.answers,t=>(Object(s["q"])(),Object(s["d"])(R,{key:t.id,answer:t},null,8,["answer"]))),128)),Object(s["g"])("div",m,[Object(s["g"])("div",x,[Object(s["g"])("form",{onSubmit:e[5]||(e[5]=Object(s["F"])(t=>q.createAnswer(),["prevent"])),class:"flex justify-center flex-col"},[Object(s["E"])(Object(s["g"])("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>q.state.newAnswer.body=t),class:"border p-1 mb-2 rounded",type:"text",placeholder:"Post An Answer",rows:"3",cols:"100"},null,512),[[s["C"],q.state.newAnswer.body]]),v],32)])])])):Object(s["e"])("",!0)});var h=a("222b"),A=a("8a4e"),k=a("83fc"),R=a("6c02"),z=a("e6a1"),$={props:["id"],setup(t){const e=Object(s["u"])({question:Object(s["b"])(()=>k["a"].question),answers:Object(s["b"])(()=>k["a"].answers),user:Object(s["b"])(()=>k["a"].user),account:Object(s["b"])(()=>k["a"].account),rated:!1,tempRating:null,rating:Object(s["b"])(()=>k["a"].ratings.find(t=>t.profileId===e.account.id&&t.ratedId===e.question.id)),loaded:!1,newAnswer:{},router:Object(R["d"])()}),a=Object(R["c"])();return Object(s["o"])(async()=>{try{await h["a"].getOne(a.params.id),await z["a"].getAnswersByQuestion(a.params.id),e.loaded=!0}catch(t){A["a"].error(t)}}),{state:e,async createAnswer(){const t=new Date;let a=t.getHours();a>12&&(a-=12);let s=t.getMinutes();s<10&&(s="0"+s),e.newAnswer.posted=`${a}:${s} ${t.getMonth()}/${t.getDay()}/${t.getFullYear()}`,e.newAnswer.questionId=e.question.id,await z["a"].createAnswer(e.newAnswer),e.newAnswer={}},async deleteQuestion(){await h["a"].deleteQuestion(a.params.id),e.router.push({path:"/"})},async upvote(){!1===e.rated&&!e.rating&&e.user.isAuthenticated&&(await h["a"].upvoteqp(a.params.id),e.rated=!0,e.tempRating=!0)},async downvote(){!1===e.rated&&!e.rating&&e.user.isAuthenticated&&(await h["a"].downvoteqp(a.params.id),e.rated=!0,e.tempRating=!1)}}}};a("6059");$.render=q,$.__scopeId="data-v-ffecc628";e["default"]=$},c78f:function(t,e,a){}}]);